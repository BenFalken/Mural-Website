(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,r=1;r<a.length;r++){var o=a[r];0!==n[o]&&(i=!1)}i&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var i={},r={app:0},n={app:0},s=[];function o(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"bbcf6338"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={about:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var i="css/"+({about:"about"}[t]||t)+"."+{about:"bd9954b7"}[t]+".css",n=l.p+i,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var c=s[o],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===n))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){c=d[o],u=c.getAttribute("data-href");if(u===i||u===n)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var i=e&&e.target&&e.target.src||n,s=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete r[t],p.parentNode.removeChild(p),a(s)},p.href=n;var g=document.getElementsByTagName("head")[0];g.appendChild(p)})).then((function(){r[t]=0})));var i=n[t];if(0!==i)if(i)e.push(i[2]);else{var s=new Promise((function(e,a){i=n[t]=[e,a]}));e.push(i[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",d.name="ChunkLoadError",d.type=i,d.request=r,a[1](d)}n[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(a,i,function(e){return t[e]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"050a":function(t,e,a){},"0e28":function(t,e,a){},1:function(t,e){},2:function(t,e){},2656:function(t,e,a){"use strict";var i=a("8404"),r=a.n(i);r.a},2995:function(t,e,a){},3:function(t,e){},"3a5e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"loading"}},[a("h1",[t._v("Loading...")]),a("p",[t._v("Please wait while the Mural is loading. Expect time to finish: "+t._s(t.expectedTime)+" seconds")]),a("img",{attrs:{src:"https://i.pinimg.com/originals/78/e8/26/78e826ca1b9351214dfdd5e47f7e2024.gif"}})])},r=[],n=a("9ab4"),s=a("60a3"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expectedTime=e.$store.getters.returnExpectedTimeToFinish,e}return Object(n["__extends"])(e,t),e.prototype.exit=function(){this.$modal.hide("loading")},e=Object(n["__decorate"])([s["a"]],e),e}(s["b"]),l=o,c=l,u=(a("4b48"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,"8a76f340",null);e["a"]=d.exports},4:function(t,e){},"4b48":function(t,e,a){"use strict";var i=a("2995"),r=a.n(i);r.a},5:function(t,e){},"526b":function(t,e,a){"use strict";var i=a("8aa5"),r=a.n(i),n=(a("e71f"),{apiKey:"AIzaSyAlBnY4J9pI-upnur7JC8vAeOi1k7u5TAg",authDomain:"bae-initiative.firebaseapp.com",databaseURL:"https://bae-initiative.firebaseio.com",projectId:"bae-initiative",storageBucket:"bae-initiative.appspot.com",messagingSenderId:"816503395098",appId:"1:816503395098:web:5fc1ffbf71a87ba91a52a3",measurementId:"G-S8Q3MSZCBL"});r.a.initializeApp(n);var s=r.a.firestore(),o=r.a.auth(),l=r.a.storage(),c=o.currentUser,u=r.a.auth,d=r.a.auth.GoogleAuthProvider,p=r.a.functions();e["a"]={db:s,auth:o,currentUser:c,Authentication:u,googleAuthProvider:d,functions:p,storage:l}},"677f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sign-in"},[0==t.mustSignIn?a("h1",[t._v("Verify Purchase")]):t._e(),1==t.mustSignIn?a("h1",[t._v("Verify your account below!")]):t._e(),a("img",{attrs:{src:"https://firebasestorage.googleapis.com/v0/b/bae-initiative.appspot.com/o/BAE-Initiative-Logo.png?alt=media&token=e38d3b65-43b5-4670-92d2-341dabf10c1d"}}),0==t.purchaseVerified?a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.initiateVerification()}}},[t._v("Are you sure you'd like to purchase?")]):t._e(),1==t.mustSignIn?a("div",{staticClass:"input-group mb-3"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Official Username","aria-label":"Username","aria-describedby":"basic-addon1"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]):t._e(),1==t.mustSignIn?a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email","aria-label":"Email","aria-describedby":"basic-addon1"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]):t._e(),1==t.mustSignIn?a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Password","aria-label":"Password","aria-describedby":"basic-addon1"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]):t._e(),1==t.mustSignIn?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.signup()}}},[t._v("Submit")]):t._e(),a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v("Cancel")])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend",attrs:{id:"hello"}},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[t._v("From Open Collective")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend",attrs:{id:"hello"}},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[t._v("Personal")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend",attrs:{id:"hello"}},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[t._v("Personal")])])}],n=a("9ab4"),s=a("60a3"),o=a("526b"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mustSignIn=!1,e.totalCounted=e.$store.getters.returnTotalCounted,e.remainingTiles=0,e.tilesAlreadyUsed=0,e.isVerified=!1,e.pricePerTile=1,e.allTilesPurchasedEver=0,e.username="",e.email="",e.password="",e.userVerified=!1,e.purchaseVerified=!1,e}return Object(n["__extends"])(e,t),e.prototype.created=function(){this.user=o["a"].auth.currentUser},e.prototype.initiateVerification=function(){this.purchaseVerified=!0;var t=this;if(t.user)if(t.user){var e=o["a"].db.collection("users").doc(this.user.uid);e.get().then((function(e){t.getAllUserData(e.data().username,!0)}))}else alert("Error in processing! Try again?");else t.forceSignIn()},e.prototype.forceSignIn=function(){this.mustSignIn=!0},e.prototype.signup=function(){this.getAllUserData(this.username,!1)},e.prototype.verifyTiles=function(){var t=this;this.mustSignIn=!1;var e=o["a"].db.collection("users").doc(this.user.uid);e.get().then((function(a){t.remainingTiles=a.data().remainingTiles,t.tilesAlreadyUsed=a.data().tilesAlreadyUsed,t.email=a.data().email,t.username=a.data().username,t.allTilesPurchasedEver>a.data().allTilesPurchasedEver&&(e.update({allTilesPurchasedEver:t.allTilesPurchasedEver,remainingTiles:t.allTilesPurchasedEver-t.tilesAlreadyUsed}),t.remainingTiles=t.allTilesPurchasedEver-t.tilesAlreadyUsed);var i=t.remainingTiles-t.totalCounted;i>=0?(t.isVerified=!0,t.withdrawTiles(e),alert("Success! Tiles have been purchased."),t.exit()):(t.isVerified=!1,alert("Sorry! You have exceeded the "+String(t.remainingTiles)+" tiles left in your account by "+String(-1*i)+" tiles. Please go back and pick at most "+String(t.remainingTiles)+" tiles"),t.exit()),t.$store.state.tilesWereBought=t.isVerified}))},e.prototype.getAllUserData=function(t,e){var i=this,r=a("30dc"),n={url:"https://cors-anywhere.herokuapp.com/https://opencollective.com/bae-initiative/members/all.json",headers:{"User-Agent":"request",orgin:"http://localhost"}};function s(a,r,n){if(!a&&200==r.statusCode)for(var s=JSON.parse(n),o=0;o<s.length;o++){var l=s[o];if(console.log(l.name),l.name.toLowerCase()==t.toLowerCase()){i.allTilesPurchasedEver=Math.floor(l.totalAmountDonated/i.pricePerTile),console.log(i.allTilesPurchasedEver),i.userVerified=!0,i.transferData(e,i.userVerified,i.allTilesPurchasedEver);break}}}r(n,s)},e.prototype.transferData=function(t,e,a){var i=this;if(this.userVerified=e,this.allTilesPurchasedEver=a,1==t)this.verifyTiles();else if(1==this.userVerified){this.mustSignIn=!1;try{o["a"].auth.setPersistence(o["a"].Authentication.Auth.Persistence.LOCAL),o["a"].auth.createUserWithEmailAndPassword(this.email,this.password).then((function(t){i.user=t.user;var e=o["a"].db.collection("users").doc(i.user.uid);e.set({email:i.email,username:i.username,allTilesPurchasedEver:i.allTilesPurchasedEver,remainingTiles:i.allTilesPurchasedEver,tilesAlreadyUsed:0}),i.verifyTiles()}))}catch(r){alert("Invalid account info! Please try again with a valid Username/Email and Password")}}else this.mustSignIn=!0,alert("Please use the address you used to donate on our site!")},e.prototype.withdrawTiles=function(t){t.update({tilesAlreadyUsed:this.tilesAlreadyUsed+this.totalCounted,remainingTiles:this.remainingTiles-this.totalCounted,allPurchasedTilesList:this.$store.getters.returnUserPurchasedTiles});for(var e=o["a"].db.collection("grids"),a=0;a<this.$store.getters.returnUserPurchasedTiles.length;a++){var i=this.$store.getters.returnUserPurchasedTiles[a];console.log(i);var r=e.doc(i);r.set({owner:this.username,email:this.email,name:"Untitled",url:"https://firebasestorage.googleapis.com/v0/b/bae-initiative.appspot.com/o/EmptyURL.png?alt=media&token=816d7cfd-ca62-4d2f-8aaf-893b03bb89be",coordinates:i})}},e.prototype.exit=function(){this.$modal.hide("signIn")},e=Object(n["__decorate"])([s["a"]],e),e}(s["b"]),c=l,u=c,d=(a("f5cc"),a("2877")),p=Object(d["a"])(u,i,r,!1,null,"6d5a3cd6",null);e["a"]=p.exports},"728a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"congrats-message"},[a("h1",[t._v("Congrats on your Contribution!")]),a("img",{attrs:{src:"https://firebasestorage.googleapis.com/v0/b/bae-initiative.appspot.com/o/BAE-Initiative-Logo.png?alt=media&token=e38d3b65-43b5-4670-92d2-341dabf10c1d"}}),t._m(0),a("div",{staticClass:"all-icons"},[a("a",{staticStyle:{color:"slategrey"},attrs:{href:"https://twitter.com/BaeInitiative"}},[a("ion-icon",{attrs:{name:"logo-instagram"}})],1),a("a",{staticStyle:{color:"slategrey"},attrs:{href:"https://www.instagram.com/baeinitiative/"}},[a("ion-icon",{attrs:{name:"logo-facebook"}})],1),a("a",{staticStyle:{color:"slategrey"},attrs:{href:"https://www.facebook.com/bae.initiative.12"}},[a("ion-icon",{attrs:{name:"logo-twitter"}})],1)]),a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v("Exit")])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("You may download a pdf file of the mural if you wish."),a("br"),t._v("Tag us at @baeinitiative, with #BAEMural")])}],n=a("9ab4"),s=a("60a3"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["__extends"])(e,t),e.prototype.exit=function(){this.$modal.hide("congratulations")},e=Object(n["__decorate"])([s["a"]],e),e}(s["b"]),l=o,c=l,u=(a("7e1f"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,"91c0979c",null);e["a"]=d.exports},"7e1f":function(t,e,a){"use strict";var i=a("a0d0"),r=a.n(i);r.a},8404:function(t,e,a){},8600:function(t,e,a){},"94e2":function(t,e,a){"use strict";var i=a("8600"),r=a.n(i);r.a},a0d0:function(t,e,a){},b7ba:function(t,e,a){"use strict";var i=a("d3c6"),r=a.n(i);r.a},cd49:function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("div",{attrs:{id:"nav"}},[a("div",{attrs:{id:"left"}},[a("router-link",{attrs:{to:"/"}},[a("button",{staticClass:"btn btn-default"},[t._v("Mural")])]),a("router-link",{attrs:{to:"/about"}},[a("button",{staticClass:"btn btn-default"},[t._v("About")])])],1),a("img",{attrs:{id:"title-logo",src:"https://firebasestorage.googleapis.com/v0/b/bae-initiative.appspot.com/o/BAE-Initiative-Logo.png?alt=media&token=ff87bcca-9ec0-41a8-a67b-128f180c7edf"}}),a("div",{attrs:{id:"right"}},[a("a",{attrs:{href:"https://opencollective.com/bae-initiative"}},[a("button",{staticClass:"btn btn-default"},[t._v("Give")])]),a("a",{attrs:{href:"https://baeinitiative.org"}},[a("button",{staticClass:"btn btn-default"},[t._v("Home")])])])]),a("router-view")],1),a("footer",[a("Footer")],1)],1)},n=[],s=a("fd2d"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("h1",{staticClass:"mural-title"},[t._v("BAE Initiative - Digital Mural")]),a("h2",{staticClass:"mural-subtitle"},[t._v("Click on any available tiles to purchase for a small fee, and help out Los Altos businesses.")]),a("iframe",{staticClass:"iframe-img",staticStyle:{background:"#FFFFFF"},attrs:{src:t.muralIframeURL,id:"test-iframe",width:"1100",height:t.setiFrameAspectRatio(1100),allowtransparency:"true"}}),1==t.$store.getters.returnIfTilesBought?a("h2",{staticClass:"warning-text"},[t._v("At this stage, "),a("b",[t._v("don't")]),t._v(" close or refresh this page till all your tiles have been uploaded. "),a("br"),t._v(" They will "),a("b",[t._v("not")]),t._v(" be saved.")]):t._e(),0==t.totalCounted?a("p",{staticClass:"purchase-text"},[t._v("Select any free tiles by clicking below!")]):t._e(),t.totalCounted>0&&0==t.$store.getters.returnIfTilesBought?a("p",{staticClass:"purchase-text"},[t._v("You have "+t._s(t.totalCounted)+" tiles in your cart.")]):t._e(),0==t.selectingTiles?a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.selectingTiles=!0}}},[t._v("Select Tiles")]):t._e(),1==t.selectingTiles&&0==t.$store.getters.returnIfTilesBought?a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){t.selectingTiles=!1}}},[t._v("Cancel")]):t._e(),1==t.$store.getters.returnIfTilesBought?a("div",{staticClass:"allTiles-container"},[a("div",{staticClass:"input-group mb-3",attrs:{id:"URL-input"}},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.linkedSiteURL,expression:"linkedSiteURL"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Any appropriate URL link","aria-label":"Email","aria-describedby":"basic-addon1"},domProps:{value:t.linkedSiteURL},on:{input:function(e){e.target.composing||(t.linkedSiteURL=e.target.value)}}})]),t._l(Object.keys(t.clickedList),(function(e){return a("div",{key:e,staticClass:"custom-file",attrs:{id:"form-input"}},[0==t.selectedImages.hasOwnProperty(e)?a("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[t._v("Tile at Row "+t._s(e.slice(1,e.length-1).split(", ")[0])+", Column "+t._s(e.slice(1,e.length-1).split(", ")[1]))]):t._e(),1==t.selectedImages.hasOwnProperty(e)?a("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[t._v("Tile at "+t._s(e)+": "+t._s(t.selectedImages[e].name))]):t._e(),a("input",{staticClass:"custom-file-input",attrs:{type:"file",accept:"image/*"},on:{change:function(a){return t.fileSelected(a.target.files[0],e)}}})])}))],2):t._e(),a("modal",{attrs:{name:"welcome",height:475}},[a("Welcome")],1),a("modal",{attrs:{name:"signIn",height:450}},[a("SignIn")],1),a("modal",{attrs:{name:"loading",height:450}},[a("Loading")],1),a("modal",{attrs:{name:"congratulations",height:450}},[a("Congratulations")],1),1==t.$store.getters.returnIfTilesBought?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.fileUpload()}}},[t._v("UPLOAD")]):t._e(),1==t.selectingTiles&&0==t.$store.getters.returnIfTilesBought?a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.purchase()}}},[t._v("Purchase Tiles?")]):t._e(),1==t.selectingTiles?a("v-container",t._l(t.gridRows,(function(e){return a("v-row",{key:e,attrs:{"no-gutters":"",justify:"center"}},[t._l(t.gridCols,(function(i){return[a("v-hover",{key:i},[a("v-col",[a("a",{attrs:{href:t.siteLink(e,i)}},[a("v-card",{staticClass:"square-card",style:t.setBackground(e,i),attrs:{elevation:"0",outlined:""},on:{click:function(a){return t.addTile(e,i)}}})],1)])],1)]}))],2)})),1):t._e()],1)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[t._v("Attach a URL link to parcels?")])])}],c=a("9ab4"),u=a("60a3"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"congrats-message"},[a("h1",[t._v("Welcome to the BAE Initiative Mural!")]),a("img",{attrs:{src:"https://firebasestorage.googleapis.com/v0/b/bae-initiative.appspot.com/o/BAE-Initiative-Logo.png?alt=media&token=e38d3b65-43b5-4670-92d2-341dabf10c1d"}}),a("p",[t._v("This mural is designed as a digital archive of art, culture and experiences during the year of 2020 and the COVID-19 outbreak. All contributions - art, photos, etc - are welcome.")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v("Take me to the Mural!")])])},p=[],g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(e,t),e.prototype.exit=function(){this.$modal.hide("welcome")},e=Object(c["__decorate"])([u["a"]],e),e}(u["b"]),f=g,h=f,m=(a("ff96"),a("2877")),b=Object(m["a"])(h,d,p,!1,null,"658a101d",null),v=b.exports,y=a("677f"),_=a("3a5e"),w=a("728a"),C=a("526b"),T=(a("0808"),a("4627")),k=a("e511"),S=a.n(k),x=a("6944"),I=a.n(x);u["b"].use(I.a);var P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imagesNumber=0,e.imageURI="",e.gridMatrix={},e.gridRows=30,e.gridCols=40,e.allSiteLinks={},e.linkedSiteURL="",e.selectedImages={},e.clickedList={},e.totalCounted=0,e.selectingTiles=!1,e.purchasingTiles=!1,e.isSignedIn=!1,e.defaultFiller="https://firebasestorage.googleapis.com/v0/b/bae-initiative.appspot.com/o/Gray%20Filler.png?alt=media&token=bf2ba9a0-22ac-4f6f-8d26-189053a73696",e.canvasShow=!1,e.globalImageInfo=[],e.globalCounter=0,e.muralURL="https://firebasestorage.googleapis.com/v0/b/bae-initiative.appspot.com/o/Mural.pdf?alt=media&token=8a2b0f77-aa8e-493a-a845-c0cd7c9ab93d",e.muralIframeURL="https://firebasestorage.googleapis.com/v0/b/bae-initiative.appspot.com/o/Mural.pdf?alt=media&token=8a2b0f77-aa8e-493a-a845-c0cd7c9ab93d#toolbar=0&navpanes=0&scrollbar=0",e.notYetVerified=!0,e.canDisplayPDF=!0,e.uploadImageCounter=0,e}return Object(c["__extends"])(e,t),e.prototype.mounted=function(){this.$store.state.tilesWereBought=!1,this.getAllImages(!1),this.fillGridMatrix();var t=C["a"].auth.currentUser;t||this.$modal.show("welcome")},e.prototype.created=function(){},e.prototype.getAllImages=function(t){var e=this;this.imagesNumber=0;var a=C["a"].db.collection("grids");a.get().then((function(a){a.forEach((function(t){e.imagesNumber=e.imagesNumber+1,""==t.data().url?C["a"].storage.ref(t.data().name).getDownloadURL().then((function(a){var i=C["a"].db.collection("grids").doc(t.id);i.update({url:a}),e.gridMatrix[t.data().coordinates]=a,e.allSiteLinks[t.data().coordinates]=t.data().siteLink})):(e.gridMatrix[t.data().coordinates]=t.data().url,e.allSiteLinks[t.data().coordinates]=t.data().siteLink)})),1==t&&e.createMural({gridMatrix:e.gridMatrix,gridRows:e.gridRows,gridCols:e.gridCols,defaultFiller:e.defaultFiller}),e.$store.state.expectedTimeToFinish=Math.round(28*e.imagesNumber/160)}))},e.prototype.fillGridMatrix=function(){for(var t=0;t<this.gridRows;t++)for(var e=0;e<this.gridCols;e++){var a=String("("+t+", "+e+")");this.gridMatrix[a]=0}},e.prototype.setBackground=function(t,e){var a=this.gridMatrix["("+String(t)+", "+String(e)+")"],i={"background-image":"url("+String(a)+")","background-size":"100% 100%",width:String(750/this.gridCols)+"px",height:String(750/this.gridCols)+"px"};if(a||(i["background-image"]="none"),!a&&1==this.clickedList["("+String(t)+", "+String(e)+")"]){var r={"background-image":"url("+String(a)+")","background-color":"#cceeff",width:String(750/this.gridCols)+"px",height:String(750/this.gridCols)+"px","background-size":"100% 100%"};return r}return i},e.prototype.siteLink=function(t,e){return console.log(this.allSiteLinks["("+String(t)+", "+String(e)+")"]),this.allSiteLinks["("+String(t)+", "+String(e)+")"]},e.prototype.addTile=function(t,e){if(0==this.$store.getters.returnIfTilesBought){var a="("+String(t)+", "+String(e)+")";1==this.clickedList[a]||this.gridMatrix[a]?this.gridMatrix[a]?delete this.clickedList[a]:(delete this.clickedList[a],this.totalCounted=this.totalCounted-1):(this.clickedList[a]=1,this.totalCounted=this.totalCounted+1);var i=this.gridRows;this.gridRows=0,this.gridRows=i}else alert("Forbidden to select")},e.prototype.fileSelected=function(t,e){return Object(c["__awaiter"])(this,void 0,void 0,(function(){var a,i,r,n;return Object(c["__generator"])(this,(function(s){switch(s.label){case 0:console.log("Size 1 "+t.size),a={maxSizeMB:1,maxWidthOrHeight:50,useWebWorker:!0},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Object(T["a"])(t,a)];case 2:return i=s.sent(),console.log("compressedFile instanceof Blob",i instanceof Blob),console.log("compressedFile size "+i.size/1024/1024+" MB"),console.log("Size 2 "+i.size),this.selectedImages[e]=i,r=this.clickedList,this.clickedList=[],this.clickedList=r,[3,4];case 3:return n=s.sent(),console.log(n),[3,4];case 4:return[2]}}))}))},e.prototype.fileUpload=function(){var t=this;function e(e,i,r,s){console.log(r+" "+e+" "+i);var o=C["a"].db.collection("grids"),l=o.doc(i);l.update({name:n.name,url:e,siteLink:this.linkedSiteURL}).then((function(){r==Object.keys(t.selectedImages).length-1&&t.resetPage(),a(Number(r+1),s)}))}function a(a,i){var r=Object.keys(t.selectedImages)[a],n=t.selectedImages[r],s=C["a"].storage.ref(n.name).put(n);s.on("state_changed",(function(t){var e=t.bytesTransferred/t.totalBytes*100;console.log("Upload is "+e+"% done")}),(function(t){console.log("Error loading")}),(function(){s.snapshot.ref.getDownloadURL().then((function(t){e(t,r,a,i)}))}))}var i=!0;try{for(var r in this.selectedImages){var n=this.selectedImages[r];console.log(n.Dimensions);var s=n.type.split("/"),o=s[1];if(console.log(o),"JPG"!=o.toUpperCase()&&"JPEG"!=o.toUpperCase()&&"PNG"!=o.toUpperCase()){if(n.name){alert("Invalid files. Must be png or jpg."),i=!1;break}alert("Invalid files. Must be png or jpg."),i=!1;break}}}catch(u){alert("Unknown error. Try again!"),i=!1}if(1==i){console.log(this.selectedImages);var l=0,c=Object.keys(this.selectedImages).length;try{a(l,c)}catch(d){alert("One or more of your images is invalid! Please try again")}}},e.prototype.resetPage=function(){this.getAllImages(!0),this.totalCounted=0,this.selectingTiles=!1,this.purchasingTiles=!1,this.$store.state.tilesWereBought=!1},e.prototype.createMural=function(t){this.$modal.show("loading");var e=this,a=t.gridMatrix,i=t.gridCols,r=t.gridRows,n=t.defaultFiller,s=function(t,e){var a=t[0],i=new Image;i.onerror=function(){alert('Cannot load image: "'+t+'"')},i.onload=function(){e(i,t[1],t[2],t[3],t[4],t[5])},i.src=a},o=function(t,a,s,o,l,u){console.log(s);var d=100;if(u==n){var p=133.25*i,g=Math.round(p*(r/i));l.addImage(t,"JPEG",a[1],a[0],p,g)}else l.addImage(t,"JPEG",Number(100*a[1])-d,Number(100*a[0])-d,100,100);if(s!=o)c(s+1,l);else{l.save("Mural.pdf");var f=l.output("blob");C["a"].storage.ref("Mural.pdf").put(f);e.changeModals()}};function l(t,e){var a=t[0],i=new XMLHttpRequest;i.onload=function(){var a=new FileReader;a.onloadend=function(){e(a.result,t[1],t[2],t[3],t[4],t[0])},a.readAsDataURL(i.response)},i.open("GET",a),i.responseType="blob",i.send()}function c(t,e){var a=d[t],i=u[t],r=[a,i,t,u.length-1,e];l(r,(function(t,e,a,i,r,n){s([t,e,a,i,r,n],o)}))}for(var u=[[0,0]],d=[n],p=0;p<Object.keys(a).length;p++){var g=Object.keys(a)[p],f=a[String(g)];if(f&&0!=f){var h=g.slice(1,g.length-1).split(", ");u.push([Number(h[0]),Number(h[1])]),d.push(f)}}var m=133.25*i,b=Math.round(m*(r/i)),v=new S.a({unit:"px",orientation:"landscape",format:[m,b]}),y=0;c(y,v)},e.prototype.changeModals=function(){this.$modal.hide("loading"),this.$modal.show("congratulations")},e.prototype.getResidualMargin=function(){var t={"margin-left":"calc(50% - 375px)","margin-right":"calc(50% - 375px)","min-width":"750px"};return t},e.prototype.setImageAspectRatio=function(t){var e={width:String(t)+"px",height:String(Math.round(t*this.gridRows/this.gridCols))+"px","margin-left":"calc(50% - "+String(t)+"px/2)"};return e},e.prototype.setiFrameAspectRatio=function(t){var e=String(Math.round(t*this.gridRows/this.gridCols));return e},e.prototype.purchase=function(){this.purchasingTiles=!0,this.$store.state.totalCounted=this.totalCounted,this.$store.state.userPurchasedTiles=Object.keys(this.clickedList),this.$modal.show("signIn")},e=Object(c["__decorate"])([Object(u["a"])({components:{Welcome:v,SignIn:y["a"],Loading:_["a"],Congratulations:w["a"],Footer:s["a"]}})],e),e}(u["b"]),E=P,L=E,A=(a("2656"),a("6544")),O=a.n(A),U=a("b0af"),j=a("62ad"),M=a("a523"),$=a("ce87"),R=a("0fd9"),B=Object(m["a"])(L,o,l,!1,null,"da791cce",null),F=B.exports;O()(B,{VCard:U["a"],VCol:j["a"],VContainer:M["a"],VHover:$["a"],VRow:R["a"]});var V=i["default"].extend({name:"App",components:{Footer:s["a"],Home:F},data:function(){return{}}}),N=V,D=(a("94e2"),a("7496")),G=a("a75b"),W=Object(m["a"])(N,r,n,!1,null,"73d6b1d0",null),z=W.exports;O()(W,{VApp:D["a"],VContent:G["a"]});var J=a("8c4f");i["default"].use(J["a"]);var H=[{path:"/",name:"Home",component:F},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/archived",name:"Archived",component:function(){return a.e("about").then(a.bind(null,"7c5a"))}}],q=new J["a"]({mode:"history",base:"/",routes:H}),Y=q,K=a("2f62");i["default"].use(K["a"]);var Q=new K["a"].Store({state:{totalCounted:0,tilesWereBought:!1,userPurchasedTiles:[],expectedTimeToFinish:0},mutations:{updateCount:function(t,e){e}},getters:{returnTotalCounted:function(t){return t.totalCounted},returnIfTilesBought:function(t){return t.tilesWereBought},returnUserPurchasedTiles:function(t){return t.userPurchasedTiles},returnExpectedTimeToFinish:function(t){return t.expectedTimeToFinish}},actions:{},modules:{}}),X=a("1881"),Z=a.n(X),tt=a("ce5b"),et=a.n(tt);a("bf40");i["default"].use(et.a);var at=new et.a({});i["default"].config.productionTip=!1,i["default"].use(Z.a),new i["default"]({router:Y,store:Q,vuetify:at,render:function(t){return t(z)}}).$mount("#app")},d3c6:function(t,e,a){},f5cc:function(t,e,a){"use strict";var i=a("050a"),r=a.n(i);r.a},fd2d:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-links"},[a("a",{staticStyle:{color:"white"},attrs:{href:"https://baeinitiative.org"}},[t._v("Explore our main site to learn more!")]),a("a",{staticStyle:{color:"white"},attrs:{href:"https://baeinitiative.org/contact"}},[t._v("Contact us")]),a("a",{staticStyle:{color:"white"},attrs:{href:"https://baeinitiative.org/about"}},[t._v("Coded by Benjamin Falkenburg")]),a("div",{staticClass:"all-icons"},[a("a",{staticStyle:{color:"white"},attrs:{href:"https://twitter.com/BaeInitiative"}},[a("ion-icon",{attrs:{name:"logo-instagram"}})],1),a("a",{staticStyle:{color:"white"},attrs:{href:"https://www.instagram.com/baeinitiative/"}},[a("ion-icon",{attrs:{name:"logo-facebook"}})],1),a("a",{staticStyle:{color:"white"},attrs:{href:"https://www.facebook.com/bae.initiative.12"}},[a("ion-icon",{attrs:{name:"logo-twitter"}})],1)])])},r=[],n=a("9ab4"),s=a("60a3"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["__extends"])(e,t),e=Object(n["__decorate"])([s["a"]],e),e}(s["b"]),l=o,c=l,u=(a("b7ba"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,"10b0fab6",null);e["a"]=d.exports},ff96:function(t,e,a){"use strict";var i=a("0e28"),r=a.n(i);r.a}});
//# sourceMappingURL=app.db1f2389.js.map